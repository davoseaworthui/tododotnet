<div class="add-todo-dialog">
  <h2 mat-dialog-title>
    <mat-icon>add_circle_outline</mat-icon>
    Add New Todo
  </h2>

  <form (ngSubmit)="onSubmit()" #todoForm="ngForm">
    <div mat-dialog-content>
      <!-- Title Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>What needs to be done?</mat-label>
        <input matInput 
               [(ngModel)]="newTodo.title" 
               name="title"
               required
               autofocus>
      </mat-form-field>

      <!-- Description Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description (Optional)</mat-label>
        <input matInput 
               [(ngModel)]="newTodo.description" 
               name="description">
      </mat-form-field>

      <!-- Priority Field -->
      <mat-form-field appearance="outline" class="priority-field">
        <mat-label>Priority</mat-label>
        <mat-select [(ngModel)]="newTodo.priority" name="priority">
          <mat-option value="1">Low Priority</mat-option>
          <mat-option value="2">Medium Priority</mat-option>
          <mat-option value="3">High Priority</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div mat-dialog-actions align="end">
      <button mat-button 
              type="button" 
              (click)="onCancel()"
              [disabled]="isSubmitting">
        Cancel
      </button>
      
      <button mat-raised-button 
              color="primary" 
              type="submit"
              [disabled]="!newTodo.title || isSubmitting">
        <mat-icon>add</mat-icon>
        {{isSubmitting ? 'Creating...' : 'Add Todo'}}
      </button>
    </div>
  </form>
</div>